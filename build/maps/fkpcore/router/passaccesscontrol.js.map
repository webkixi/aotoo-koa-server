{"version":3,"sources":["fkpcore/router/passaccesscontrol.js"],"names":["passaccess","oridata","get","ctx","Fetch","fkproute","query","passdata","post","body","headers","login","response","set","success","message","debug","error","getData"],"mappings":";;;;;;;;;;;;;;;;;AAAA,SAASA,UAAT,CAAoBC,OAApB,EAA6B;AAC3B,SAAO;AACLC;AAAA,0FAAK,iBAAeC,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACkBC,MAAMF,GAAN,CAAUC,IAAIE,QAAd,EAAwBF,IAAIG,KAA5B,CADlB;;AAAA;AACCC,wBADD;AAAA,iDAEIA,QAFJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAL;;AAAA;AAAA;AAAA;;AAAA;AAAA,OADK;;AAMLC;AAAA,2FAAM,kBAAeL,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACiBC,MAAMI,IAAN,CAAWL,IAAIE,QAAf,EAAyBF,IAAIM,IAA7B,CADjB;;AAAA;AACAF,wBADA;;AAAA,sBAEAA,YAAYA,SAAS,CAAT,CAFZ;AAAA;AAAA;AAAA;;AAGF,oBAAIA,SAAS,CAAT,EAAYG,OAAZ,CAAoBC,KAAxB,EAA8B;AAC5BR,sBAAIS,QAAJ,CAAaC,GAAb,CAAiB,OAAjB,EAA0BN,SAAS,CAAT,EAAYG,OAAZ,CAAoBC,KAA9C,EAD4B,CAC0B;AACvD;AALC,kDAMKJ,SAAS,CAAT,CANL;;AAAA;AAAA,sBAQEA,YAAYA,SAAS,CAAT,MAAc,EAR5B;AAAA;AAAA;AAAA;;AAAA,kDAQuC,EAACO,SAAS,MAAV,EAAkBC,SAAS,YAA3B,EARvC;;AAAA;AAUJC,sBAAM,kBAAN;AAVI,kDAWG,EAACC,OAAO,OAAR,EAAiBF,SAAS,iBAA1B,EAXH;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAN;;AAAA;AAAA;AAAA;;AAAA;AAAA;AANK,GAAP;AAoBD;;QAEsBG,O,GAAdlB,U","file":"../../../fkpcore/router/passaccesscontrol.js","sourcesContent":["function passaccess(oridata) {\n  return {\n    get: async function(ctx){\n      let passdata = await Fetch.get(ctx.fkproute, ctx.query)\n      return passdata\n    },\n\n    post: async function(ctx){\n      let passdata = await Fetch.post(ctx.fkproute, ctx.body)\n      if (passdata && passdata[1]) {\n        if (passdata[0].headers.login){\n          ctx.response.set('login', passdata[0].headers.login); //设置response的header\n        }\n        return passdata[1]\n      } else {\n        if (passdata && passdata[1]==='') return {success: '1010', message: \"链接正确，但数据为空\"}\n      }\n      debug('java/php后端返回数据出错')\n      return {error: \"60002\", message: \"java或者php返回数据错误\"}\n    }\n  }\n}\n\nexport { passaccess as getData }\n"]}